---
createdAt: 2025-08-02T18:52:14.9776555
modifiedAt: 2025-08-02T18:52:39.0355474
---
- N×M의 모눈종이 위에 아주 얇은 치즈가 있다. 단, N 은 세로 격자의 수이고, M 은 가로 격자의 수이다. 이 치즈는 냉동 보관을 해야만 하는데 실내온도에 내어놓으면 공기와 접촉하여 천천히 녹는다. 그런데 이러한 모눈종이 모양의 치즈에서 각 치즈 격자(작 은 정사각형 모양)의 4변 중에서 적어도 2변 이상이 실내온도의 공기와 접촉한 것은 정확히 한시간만에 녹아 없어져 버린다. 
- 치즈 내부에 있는 공간은 치즈 외부 공기와 접촉하지 않는 것으로 가정한다. 그러므 로 이 공간에 접촉한 치즈 격자는 녹지 않고 C로 표시된 치즈 격자만 사라진다.
- 모눈종이의 맨 가장자리에는 치즈가 놓이지 않는 것으로 가정한다. 입력으로 주어진 치즈가 모두 녹아 없어지는데 걸리는 정확한 시간을 구하는 프로그램을 작성하시오.

- 생각 흐름
	- 핵심은 내부, 외부를 구분 하기와 녹는 경우와 그렇지 않은 경우를 구분 
	- 1. 두개의 면 이상이 빈공간과 맞닿아 있는가?

``` c++
#include <iostream>
#include <vector>
#include <utility>
using namespace std;

int n, m;
int cnt;

// 상하좌우
int dx[4] = {-1, 1, 0, 0};
int dy[4] = {0, 0, -1, 1};

// 내부 치즈 검사 함수 -> 내부 공간이면 return true 
bool isInside(vector<vector<int>>& arr, stack<pair<int,int>> s) {
	vector<vector<int>> flag(n, vector<int>(m));
	while (!s.empty()) {
		pair<int, int> tmp = s.top();
		if (tmp.first == 0 || tmp.first == n - 1 || tmp.second == 0 || tmp.second == m - 1) return false;
		flag[tmp.first][tmp.second] = 1;
		s.pop();
		for (int i = 0; i < 4; i++) {
			int nx = tmp.first + dx[i];
			int ny = tmp.second + dy[i];
			if (flag[nx][ny] == 0 && arr[nx][ny] == 0 && nx >= 0 && nx < n && ny >= 0 && ny < m) {
				s.push({ nx, ny });
			}
		}
	}
	return true;
}

// 사라질 치즈인지 체크하는 함수
void check(vector<vector<int>>& arr, int& toMelt) {
	// 사라질 치즈 좌표
	vector<pair<int, int>> cheeze;

	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			int edge = 0;
			if (arr[i][j] == 0) continue;

			for (int dir = 0; dir < 4; dir++) {
				int nx = i + dx[dir];
				int ny = j + dy[dir];
				if (nx >= 0 && nx < n && ny >= 0 && ny < m) {
					if (arr[nx][ny] == 0) {
						bool flag = true;
						stack <pair<int, int>> s;
						s.push({ nx, ny });
						if (!isInside(arr, s)) {
							edge++;
						}
					}
				}
				if (edge >= 2) {
					cheeze.push_back({ i,j });
					break;
				}
			}
		}
	}

	for (int i = 0; i < cheeze.size(); i++) {
		arr[cheeze[i].first][cheeze[i].second] = 0;
	}
	
	toMelt -= (int)cheeze.size();
	
	//cout << "==================" << "\n";
	//for (int i = 0; i < n; i++) {
	//	for (int j = 0; j < m; j++) {
	//		cout << arr[i][j] << " ";
	//	}
	//	cout << "\n";
	//}
	//cout << "==================: cnt" << toMelt << "\n";

}

int main() {
	int toMelt = 0;
	cin >> n >> m;
	vector<vector<int>> arr(n, vector<int>(m));
	
	for (int i = 0; i < n; i++) {
		for(int j=0; j < m; j++) {
			cin >> arr[i][j];
			if(arr[i][j] == 1) toMelt++;
		}
	}
	while(toMelt > 0){
		check(arr, toMelt);
		cnt++;
	}

	cout << cnt;
	
	return 0;
}

```
