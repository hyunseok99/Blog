---
createdAt: 2025-08-02T18:52:14.394653
modifiedAt: 2025-08-02T18:52:14.394653
---
- 9명으로 이루어진 두 팀이 공격과 수비를 번갈아 하는 게임이다. 하나의 이닝은 공격과 수비로 이루어져 있고, 총 N이닝 동안 게임을 진행해야 한다. 한 이닝에 3아웃이 발생하면 이닝이 종료되고, 두 팀이 공격과 수비를 서로 바꾼다.
- 경기가 시작하기 전까지 타순을  정해야 하고 
-  9번 타자까지 공을 쳤는데 3아웃이 발생하지 않은 상태면 이닝은 끝나지 않고, 1번 타자가 다시 타석에 선다. 타순은 이닝이 변경되어도 순서를 유지해야 한다
- 아인타는 자신이 가장 좋아하는 선수인 1번 선수를 4번 타자로 미리 결정
- 첫째 줄에 이닝 수 N(2 ≤ N ≤ 50)이 주어진다. 둘째 줄부터 N개의 줄에는 각 선수가 각 이닝에서 얻는 결과가 1번 이닝부터 N번 이닝까지 순서대로 주어진다
- 아인타팀이 얻을 수 있는 최대 점수를 출력한다.
- 생각 흐름
	- 라운드, 타자, 점수 
	- 타자 순서 중 4번 타자는 고정 
		- 8! ~= 8만 개의 경우에 대해 최대 점수 N번 계산 50 * 8만  
	

``` c++
#include <iostream>
#include <vector>
#include <algorithm>
using namespace std;

int n, res;

void calc(vector<int>& num, vector<vector<int>>& node);

void func(vector<vector<int>>& node) {
	// 나갈 타자 순번 선택
	vector<int> bat = { 2,3,4,5,6,7,8,9 };
	do {
		vector<int> num(10);
		num[4] = 1;
		int idx = 1;
		for (int i = 0; i < bat.size(); i++) {
			if (idx == 4) {
				idx++;
			}
			num[idx] = bat[i];
			idx++;
		}

		calc(num, node);
	} while (next_permutation(bat.begin(), bat.end()));
}

// 점수 계산
// num: 선택된 타순 , 
void calc(vector<int>& num, vector<vector<int>>& node) {

	// 현재 타순
	int idx = 1;
	// 현재 점수
	int score = 0;

	for (int round = 1; round <= n; round++) {
		// 이닝별 아웃 카운트  
		int outCnt = 0;
		// 마운드 별 상황
		vector<int> mount(4);
		while (outCnt < 3) {
			if (idx == 10) {
				idx = 1;
			}
			int state = node[round][num[idx]];
			if (state == 0) {
				outCnt++;
			}
			else {
				// 마운트 진루
				for (int i = 3; i >= 1; i--) {
					if (mount[i] != 0) {
						if ((i + state) >= 4) {
							mount[i] = 0;
							score++;
						}
						else {
							mount[i] = 0;
							mount[i + state] = 1;
						}
					}
				}
				// 타자 진루
				if (state >= 4) {
					score++;
				}
				else {
					mount[state] = 1;
				}
			}
			idx++;
		}
	}
	res = max(res, score);

	return;
}

int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(0);

	cin >> n;
	// 이닝별 타자 결과  
	vector<vector<int>> node(n + 1, vector<int>(10));
	for (int i = 1; i <= n; i++) {
		for (int j = 1; j <= 9; j++) {
			cin >> node[i][j];
		}
	}

	func(node);
	cout << res;
	return 0;
}

